<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:ucl="http://www.unicorcollege.cz/JEE/Library">
<body>
<ui:composition template="/template/page.xhtml">
	<ui:define name="pageTitle">#{local.buyTicket}</ui:define>
	<ui:define name="primaryContent">			
		
			<h:form>			   
			   <rich:collapsiblePanel >
			  <h:panelGrid columns="3">
			    <h:outputText value="#{local.visitDay}: " /> 
			  	<rich:calendar id="visitDay" value="#{zooManager.visitDay}" datePattern="d.M.yyyy" required="true" />
			  	<rich:message for="visitDay" />
			  
			  	<h:outputText value="#{local.customerName}: " /> 
			  	<h:inputText id="customerName" value="#{zooManager.customerName}" required="true" />
			  	<rich:message for="customerName" />
			  	
			  	<h:outputText value="#{local.creditCardNumber}: " /> 
			  	<h:inputText id="creditCardNumber" value="#{zooManager.creditCardNumber}" required="true" />
			  	<rich:message for="creditCardNumber" />
			  	
			  	<h:outputText value="#{local.creditCardValidity}: " /> 
			  	<h:inputText id="creditCardValidity" value="#{zooManager.creditCardValidity}" required="true" />
			  	<rich:message for="creditCardValidity" />
			  
			  	</h:panelGrid>
			  <h:commandButton value="#{local.buy}" action="#{zooManager.buyTicket}">
			  	<a4j:ajax execute="@form" render="@form" />
			  </h:commandButton>
			  </rich:collapsiblePanel>
			  <br/>
			  <rich:collapsiblePanel >
				<f:facet name="header">#{local.ticketBought}</f:facet>
				#{local.youBoughtTicket} '#{zooManager.ticketCode}'
			  </rich:collapsiblePanel >
			 </h:form>
			
	</ui:define>
</ui:composition>
</body>
</html>